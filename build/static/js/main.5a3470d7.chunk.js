(this.webpackJsonpadmin_profma=this.webpackJsonpadmin_profma||[]).push([[0],{180:function(e,n,t){"use strict";t.r(n);var c,i,r,s,a,o,l,d,b,j=t(0),h=t.n(j),p=t(18),m=t.n(p),f=t(31),x=t(16),O=(t(97),t(17)),u=function(e,n){return Promise.resolve(fetch("".concat("http://194.87.145.192/graphql"),{method:"POST",mode:"cors",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}))},g=t(12),y=t(32),N=t(9),v=t(5),_=Object(O.a)(y.b)(c||(c=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 20px;\n    color: #3d5170;\n    font-weight: 400;\n    cursor: pointer;\n    color: #3d5170;\n    &:hover {\n      text-decoration: none;\n      background-color: #fbfbfb;\n      color: #007bff;\n    }\n  "]))),w=(O.a.div(i||(i=Object(x.a)(["\n    display: flex;\n    font-size: 14px;\n    flex-direction: row;\n  "]))),O.a.div(r||(r=Object(x.a)(["\n    margin-right: 20px;\n    color: #000;\n    font-weight: 700;\n  "]))),O.a.div(s||(s=Object(x.a)(["\n    &:nth-child(odd) {\n      background-color: rgba(0, 0, 0, 0.03);\n    }\n    display: flex;\n    font-size: 14px;\n    flex-direction: row;\n  "])))),k=function(e){var n=Object(N.f)().id,t=Object(j.useState)([]),c=Object(f.a)(t,2),i=c[0],r=c[1],s=Object(j.useState)(""),a=Object(f.a)(s,2),o=a[0],l=a[1];return Object(j.useEffect)((function(){u({query:"query {user (id: ".concat(n,") { \n          id type email\n          master_appointments {\n            id date time status\n            offers {\n              description price_by_pack {duration price}\n              service {id name specialization {id name} photos {src}}\n            }\n            client {\n              profile {\n                name email\n              }\n            }\n          }\n          client_appointments {\n            id date time status\n            offers {\n              description price_by_pack {duration price}\n              service {id name specialization {id name} photos {src}}\n            }\n            master {\n              profile {\n                name email\n              }\n            }\n          }\n       \n      }}")}).then((function(e){return e.json()})).then((function(e){e.data.user.client_appointments.length&&r(e.data.user.client_appointments),e.data.user.master_appointments.length&&r(e.data.user.master_appointments),l(e.data.user.email)})).catch((function(e){alert("error")}))}),[]),Object(v.jsx)(g.e,{fluid:!0,className:"main-content-container px-4",children:Object(v.jsx)(g.f,{children:Object(v.jsx)(g.d,{children:Object(v.jsxs)(g.a,{small:!0,className:"mb-4",style:{boxShadow:"0 0 10px 1px rgba(0,0,0,0.2)"},children:[Object(v.jsxs)(g.c,{className:"border-bottom",style:{fontWeight:700,fontSize:"25px"},children:["Appointments ",o]}),Object(v.jsx)(g.b,{className:"p-0 pb-3",children:Object(v.jsxs)("table",{className:"table mb-0",children:[Object(v.jsx)("thead",{className:"bg-light",children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",className:"border-0",children:"Id"}),Object(v.jsx)("th",{scope:"col",className:"border-0",children:"Master/client"}),Object(v.jsx)("th",{scope:"col",className:"border-0",children:"Date"}),Object(v.jsx)("th",{scope:"col",className:"border-0",children:"Time"}),Object(v.jsx)("th",{scope:"col",className:"border-0",children:"Status"}),Object(v.jsx)("th",{scope:"col",className:"border-0",children:"Offers"})]})}),Object(v.jsx)("tbody",{children:!!i.length&&i.map((function(e,n){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.id}),Object(v.jsx)("td",{children:e.client?e.client.profile?e.client.profile.name:"-":e.master.profile?e.master.profile.name:"-"}),Object(v.jsx)("td",{children:e.date}),Object(v.jsx)("td",{children:e.time.slice(0,5)}),Object(v.jsx)("td",{children:e.status}),Object(v.jsx)("td",{children:e.offers.length?e.offers.map((function(e,n){return Object(v.jsxs)(w,{children:[Object(v.jsx)("td",{scope:"col",className:"border-0",children:e.service.name}),Object(v.jsxs)("td",{scope:"col",className:"border-0",children:[e.price_by_pack.duration," \u043c\u0438\u043d."]}),Object(v.jsxs)("td",{scope:"col",className:"border-0",children:[e.price_by_pack.price," \u0440\u0443\u0431."]})]})})):"-"})]},n)}))})]})})]})})})})},S=function(e){var n=e.length,t=e.DATA;return Object(v.jsx)(g.e,{fluid:!0,className:"main-content-container px-4",children:Object(v.jsx)(g.f,{children:Object(v.jsx)(g.d,{children:Object(v.jsxs)(g.a,{small:!0,className:"mb-4",style:{boxShadow:"0 0 10px 1px rgba(0,0,0,0.2)"},children:[Object(v.jsx)(g.c,{className:"border-bottom",children:Object(v.jsxs)("h6",{className:"m-0",style:{fontWeight:700,fontSize:"25px"},children:[t&&t.length?"Master"===t[0].type?"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043c\u0430\u0441\u0442\u0435\u0440\u043e\u0432":"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432":"..."," ",n?"("+n+")":null]})}),Object(v.jsx)(g.b,{className:"p-0 pb-3",children:Object(v.jsxs)("table",{className:"table mb-0",children:[Object(v.jsx)("thead",{className:"bg-light",children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",className:"border-0",children:"Id"}),Object(v.jsx)("th",{scope:"col",className:"border-0",children:"Name"}),Object(v.jsx)("th",{scope:"col",className:"border-0",children:"About me"}),Object(v.jsx)("th",{scope:"col",className:"border-0",children:"Email"}),Object(v.jsx)("th",{scope:"col",className:"border-0",children:"City"}),Object(v.jsx)("th",{scope:"col",className:"border-0",children:"Appointments"})]})}),t&&!!t.length&&Object(v.jsx)("tbody",{children:t.map((function(e,n){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.id}),Object(v.jsx)("td",{children:e.profile&&e.profile.name?e.profile.name:"-"}),Object(v.jsx)("td",{children:e.profile&&e.profile.about_me?e.profile.about_me:"-"}),Object(v.jsx)("td",{children:e.email}),Object(v.jsx)("td",{children:e.profile&&e.profile.city?e.profile.city.name:"-"}),Object(v.jsx)("td",{children:Object(v.jsx)(_,{to:"/appointments/".concat(e.id),params:{testvalue:"hello"},children:0!==e.client_appointments.length||0!==e.master_appointments.length?e.client_appointments.length||e.master_appointments.length:"-"})})]},n)}))})]})})]})})})})},A=O.a.div(a||(a=Object(x.a)(["\n    position: fixed;\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    top: 0;\n    right: 0;\n    left: 200px;\n    height: 49px;\n    padding-right: 20px;\n    color: #999;\n    background-color: #fff;\n    width: calc(100% - 200px);\n    box-shadow: 0 0.125rem 0.625rem rgb(90 97 105 / 12%);\n  "]))),z=O.a.div(o||(o=Object(x.a)(["\n    background-color: #fff;\n    position: fixed;\n    width: 200px;\n    height: 100vh;\n    box-shadow: 0 0.125rem 9.375rem rgb(90 97 105 / 10%),\n      0 0.25rem 0.5rem rgb(90 97 105 / 12%),\n      0 0.9375rem 1.375rem rgb(90 97 105 / 10%),\n      0 0.4375rem 2.1875rem rgb(165 182 201 / 10%);\n  "]))),C=Object(O.a)(y.b)(l||(l=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: #5a6169;\n    font-weight: 500;\n    height: 50px;\n    border-bottom: 1px solid #e1e5eb;\n    font-size: 25px;\n    &:hover {\n      text-decoration: none;\n      color: #5a6169;\n    }\n  "]))),T=O.a.div(d||(d=Object(x.a)(["\n    z-index: 0;\n    display: flex;\n    flex: 1;\n    padding-top: 75px;\n    margin-left: 200px;\n  "]))),P=Object(O.a)(y.b)(b||(b=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 50px;\n    color: #3d5170;\n    font-weight: 400;\n    cursor: pointer;\n    background-color: ",";\n    color: ",";\n    box-shadow: ",";\n    &:hover {\n      text-decoration: none;\n      transition: 0.2s ease all;\n      box-shadow: inset 0.1875rem 0 0 #007bff;\n      background-color: #fbfbfb;\n      color: #007bff;\n    }\n  "])),(function(e){return e.active?"#fbfbfb":"#fff"}),(function(e){return e.active?"#007bff":"#3d5170"}),(function(e){return e.active?"inset 0.1875rem 0 0 #007bff":null})),q=function(){var e="Master",n="Client",t=Object(j.useState)(""),c=Object(f.a)(t,2),i=c[0],r=c[1],s=Object(j.useState)([]),a=Object(f.a)(s,2),o=a[0],l=a[1],d=function(e){u({query:"query {users (type: ".concat(e,", first:",100,") { \n        data { \n          id type email\n          profile {id city {id name} name email about_me}\n          master_appointments {\n            id\n          }\n          client_appointments {\n            id \n          }\n        } \n      }}")}).then((function(e){return e.json()})).then((function(e){l(e.data.users.data)})).catch((function(e){alert("error")}))};return Object(j.useEffect)((function(){r("clients"),d(n)}),[]),Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(y.a,{children:Object(v.jsxs)("div",{children:[Object(v.jsxs)(z,{children:[Object(v.jsx)(C,{to:"/",children:"Profma"}),Object(v.jsx)(P,{to:"/",active:"clients"===i,onClick:function(){r("clients"),d(n)},children:"\u041a\u043b\u0438\u0435\u043d\u0442\u044b"}),Object(v.jsx)(P,{to:"/",active:"masters"===i,onClick:function(){r("masters"),d(e)},children:"\u041c\u0430\u0441\u0442\u0435\u0440\u0430"})]}),Object(v.jsxs)(N.c,{children:[Object(v.jsx)(N.a,{exact:!0,path:"/",children:Object(v.jsx)(T,{children:Object(v.jsx)(S,{length:o.length,DATA:o})})}),Object(v.jsx)(N.a,{path:"/appointments/:id",children:Object(v.jsx)(T,{children:Object(v.jsx)(k,{length:o.length,DATA:o})})})]}),Object(v.jsx)(A,{children:"\u0410\u0434\u043c\u0438\u043d\u043a\u0430 PROFMA"})]})})})},D=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,183)).then((function(n){var t=n.getCLS,c=n.getFID,i=n.getFCP,r=n.getLCP,s=n.getTTFB;t(e),c(e),i(e),r(e),s(e)}))};m.a.render(Object(v.jsx)(h.a.StrictMode,{children:Object(v.jsx)(q,{})}),document.getElementById("root")),D()},97:function(e,n,t){}},[[180,1,2]]]);
//# sourceMappingURL=main.5a3470d7.chunk.js.map