{"version":3,"sources":["query.js","constants.js","App.js","reportWebVitals.js","index.js"],"names":["QUERY","body","origin_data","Promise","resolve","fetch","method","mode","JSON","stringify","headers","anim","keyframes","Wrapper","styled","div","LeftMenu","Content","Button","props","active","Loader","Load","LoadBlockFirst","LoadBlockSecond","Table","TableHeader","Row","RowHeader","ShowAppointments","Modal","AppointmentsWrapHeader","AppointmentsWrap","AppointmentsRow","AppointmentsRowServices","OfferFirst","span","Offer","CloseBtn","UserData","App","type","useState","clickedBtn","setClickedBtn","DATA","setDATA","isLoading","setIsLoading","showAppointment","setShowAppointment","selectedUser","setSelectedUser","loadUsers","usersType","query","then","res","json","data","users","catch","err","alert","useEffect","document","style","overflow","console","log","className","onClick","length","map","el","index","id","profile","name","about_me","email","city","client_appointments","master_appointments","window","scrollTo","date","time","status","flexDirection","offers","i","display","margin","service","price_by_pack","duration","price","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"wPAiBeA,EAfD,SAACC,EAAMC,GACnB,OAAOC,QAAQC,QACbC,MAAM,GAAD,OCJW,iCDIC,CACfC,OAAQ,OACRC,KAAM,OACNN,KAAMO,KAAKC,UAAUR,GACrBS,QAAS,CAEP,eAAgB,wB,OELlBC,EAAOC,YAAH,+NAiBJC,EAAUC,IAAOC,IAAV,kJAOXC,EAAWF,IAAOC,IAAV,wGAKRE,EAAUH,IAAOC,IAAV,mJAOPG,EAASJ,IAAOC,IAAV,yYAUgB,SAACI,GAAD,OAAYA,EAAMC,OAAS,QAAU,UAChD,SAACD,GAAD,OAAYA,EAAMC,OAAS,OAAS,UAO/CC,EAASP,IAAOC,IAAV,mTAeNO,EAAOR,IAAOC,IAAV,wHAMJQ,EAAiBT,IAAOC,IAAV,4LAKCJ,GAEfa,EAAkBV,IAAOC,IAAV,yNAKAJ,GAGfc,EAAQX,IAAOC,IAAV,8NASLW,EAAcZ,IAAOC,IAAV,mIAMXY,EAAMb,IAAOC,IAAV,8IAOHa,EAAYd,IAAOC,IAAV,sKAQTc,EAAmBf,IAAOC,IAAV,sWAgBhBe,EAAQhB,IAAOC,IAAV,0RAcLgB,EAAyBjB,IAAOC,IAAV,wNAStBiB,EAAmBlB,IAAOC,IAAV,kMAShBkB,EAAkBnB,IAAOC,IAAV,kJAOfmB,EAA0BpB,IAAOC,IAAV,0JAOvBoB,GAAarB,IAAOsB,KAAV,6KAQVC,GAAQvB,IAAOsB,KAAV,4KAQLE,GAAWxB,IAAOC,IAAV,2aAmBRwB,GAAWzB,IAAOsB,KAAV,+EA4OKI,GAvOH,WACV,IAAMC,EAAiB,SAAjBA,EAAmC,SACzC,EAAoCC,mBAAS,IAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,OACoBF,mBAAS,MAD7B,mBACGG,EADH,KACSC,EADT,OAE8BJ,oBAAS,GAFvC,mBAEGK,EAFH,KAEcC,EAFd,OAG0CN,mBAAS,IAHnD,mBAGGO,EAHH,KAGoBC,EAHpB,OAIoCR,mBAAS,IAJ7C,mBAIGS,EAJH,KAIiBC,EAJjB,KAMMC,EAAY,SAACC,GACjBN,GAAa,GACbhD,EAAM,CACJuD,MAAM,uBAAD,OAAyBD,EAAzB,WAA6C,IAA7C,+zBA+BJE,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACLb,EAAQa,EAAKA,KAAKC,MAAMD,MACxBX,GAAa,MAEda,OAAM,SAACC,GACNC,MAAM,SACNf,GAAa,OAmBnB,OAfAgB,qBAAU,WACRpB,EAAc,WACdS,EAAUZ,KACT,IAEHuB,qBAAU,WAEHC,SAAShE,KAAKiE,MAAMC,SADzBlB,EACoC,SACA,SACnC,CAACA,IAEJe,qBAAU,WACRI,QAAQC,IAAIxB,EAAM,WACjB,CAACA,IAGF,qBAAKyB,UAAU,MAAf,SACE,eAACzD,EAAD,WACE,eAACG,EAAD,WACE,eAACE,EAAD,CACEqD,QAAS,WACP3B,EAAc,WACdS,EAAUZ,IAEZrB,OAAuB,YAAfuB,EALV,uDAOU,IACPE,GACCA,EAAK2B,QACY,WAAjB3B,EAAK,GAAGJ,MAFT,WAGKI,EAAK2B,OAHV,QAKH,eAACtD,EAAD,CACEqD,QAAS,WACP3B,EAAc,WACdS,EAAUZ,IAEZrB,OAAuB,YAAfuB,EALV,uDAOU,IACPE,GACCA,EAAK2B,QACY,WAAjB3B,EAAK,GAAGJ,MAFT,WAGKI,EAAK2B,OAHV,WAML,eAACvD,EAAD,WACG4B,GAAQA,EAAK2B,QACZ,eAAC9C,EAAD,WACE,cAACE,EAAD,iBACA,cAACA,EAAD,iCACA,cAACA,EAAD,oDACA,cAACA,EAAD,oBACA,cAACA,EAAD,6CACA,cAACA,EAAD,sDAGHiB,GACCA,EAAK2B,QACL3B,EAAK4B,KAAI,SAACC,EAAIC,GAAL,OACP,eAAClD,EAAD,WACE,cAACE,EAAD,UAAM+C,EAAGE,KACT,cAACjD,EAAD,UACG+C,EAAGG,SAAWH,EAAGG,QAAQC,KAAOJ,EAAGG,QAAQC,KAAc,MAE5D,cAACnD,EAAD,UACG+C,EAAGG,SACAH,EAAGG,QAAQE,SACTL,EAAGG,QAAQE,SAEb,MAEN,cAACpD,EAAD,UACG+C,EAAGG,SACAH,EAAGG,QAAQG,MACTN,EAAGG,QAAQG,MAEb,MAEN,cAACrD,EAAD,UACG+C,EAAGG,SACAH,EAAGG,QAAQI,KACTP,EAAGG,QAAQI,KAAKH,KAElB,MAEN,cAACnD,EAAD,UACqC,IAAlC+C,EAAGQ,oBAAoBV,QACU,IAAlCE,EAAGS,oBAAoBX,OACrB,cAAC3C,EAAD,CACE0C,QAAS,WACPa,OAAOC,SAAS,EAAG,GACnBjC,EAAgBsB,GAChBxB,EACoC,IAAlCwB,EAAGQ,oBAAoBV,OACnBE,EAAGQ,oBACHR,EAAGS,sBAPb,SAWGT,EAAGQ,oBAAoBV,QACtBE,EAAGS,oBAAoBX,SAG3B,eAOXvB,GACC,eAACnB,EAAD,WACE,cAACQ,GAAD,CAAUiC,QAAS,kBAAMrB,EAAmB,OAA5C,wDAGA,gCACE,eAACX,GAAD,uBAAoBY,EAAayB,MACjC,eAACrC,GAAD,oBACSY,EAAa0B,QAAU1B,EAAa0B,QAAQC,KAAO,OAE5D,eAACvC,GAAD,qBACUY,EAAa0B,QAAU1B,EAAa0B,QAAQG,MAAQ,UAGhE,eAACjD,EAAD,WACE,cAACE,EAAD,kBACA,cAACA,EAAD,yCACA,cAACA,EAAD,+CACA,cAACA,EAAD,qDACA,cAACC,EAAD,wDAEDe,EAAgBwB,KAAI,SAACC,EAAIC,GAExB,OADAP,QAAQC,IAAIK,EAAI,SAEd,eAAC1C,EAAD,WACE,eAACC,EAAD,eAAmByC,EAAGE,GAAtB,OACA,eAAC3C,EAAD,eAAmByC,EAAGY,KAAtB,OACA,eAACrD,EAAD,eAAmByC,EAAGa,KAAtB,OACA,eAACtD,EAAD,eAAmByC,EAAGc,OAAtB,OACA,cAACtD,EAAD,UACE,qBAAKgC,MAAO,CAAEuB,cAAe,OAA7B,SACGf,EAAGgB,OAAOlB,OACPE,EAAGgB,OAAOjB,KAAI,SAACC,EAAIiB,GAAL,OACZ,sBACEzB,MAAO,CACL0B,QAAS,OACTH,cAAe,MACfI,OAAQ,OAJZ,UAOE,cAAC1D,GAAD,UAAauC,EAAGoB,QAAQhB,OACxB,eAACzC,GAAD,WAAQqC,EAAGqB,cAAcC,SAAzB,0BACA,eAAC3D,GAAD,WAAQqC,EAAGqB,cAAcE,MAAzB,gCAGJ,iBASjBlD,GACC,cAAC1B,EAAD,UACE,eAACC,EAAD,WACE,cAACC,EAAD,IACA,cAACC,EAAD,eCrbC0E,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB5C,MAAK,YAAkD,IAA/C6C,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCFdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEF3C,SAAS4C,eAAe,SAG1BX,O","file":"static/js/main.24191ff5.chunk.js","sourcesContent":["import { PATH } from \"./constants\";\r\n\r\nconst QUERY = (body, origin_data) => {\r\n  return Promise.resolve(\r\n    fetch(`${PATH}`, {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      body: JSON.stringify(body),\r\n      headers: {\r\n        // \"Access-Control-Allow-Origin\": \"https://backend.partylive.by\",\r\n        \"Content-Type\": \"application/json\",\r\n        // Authorization: origin_data ? \"Bearer \" + origin_data : \"\",\r\n      },\r\n    })\r\n  );\r\n};\r\n\r\nexport default QUERY;\r\n","export const PATH = \"http://194.87.145.192/graphql\";\r\n","import \"./App.css\";\nimport { useEffect, useState } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport QUERY from \"./query\";\n\nconst anim = keyframes`\n   0% {\n    top: 36px;\n    left: 36px;\n    width: 0;\n    height: 0;\n    opacity: 1;\n  }\n  100% {\n    top: 0px;\n    left: 0px;\n    width: 72px;\n    height: 72px;\n    opacity: 0;\n  }\n`;\n\nconst Wrapper = styled.div`\n    display: flex;\n    margin: 0 auto;\n    width: 1000px;\n    font-family: sans-serif;\n    border-radius: 5px;\n  `,\n  LeftMenu = styled.div`\n    width: 150px;\n    background-color: #eee;\n    padding-right: 10px;\n  `,\n  Content = styled.div`\n    display: flex;\n    flex: 1;\n    border-radius: 5px;\n    background-color: #fff;\n    flex-direction: column;\n  `,\n  Button = styled.div`\n    display: flex;\n    background-color: #fff;\n    flex: 1;\n    margin-bottom: 10px;\n    padding: 10px 0;\n    justify-content: center;\n    cursor: pointer;\n    font-size: 20px;\n    border-radius: 5px;\n    background-color: ${(props) => (props.active ? \"green\" : \"#fff\")};\n    color: ${(props) => (props.active ? \"#fff\" : \"#000\")};\n    &:hover {\n      background-color: green;\n      color: #fff;\n      transition: 0.2s ease all;\n    }\n  `,\n  Loader = styled.div`\n    position: fixed;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 26px;\n    color: green;\n    height: 100%;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.2);\n  `,\n  Load = styled.div`\n    display: inline-block;\n    position: relative;\n    width: 80px;\n    height: 80px;\n  `,\n  LoadBlockFirst = styled.div`\n    position: absolute;\n    border: 4px solid green;\n    opacity: 1;\n    border-radius: 50%;\n    animation: ${anim} 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n  `,\n  LoadBlockSecond = styled.div`\n    position: absolute;\n    border: 4px solid green;\n    opacity: 1;\n    border-radius: 50%;\n    animation: ${anim} 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n    animation-delay: -0.5s;\n  `,\n  Table = styled.div`\n    display: flex;\n    flex-direction: row;\n    padding: 5px;\n    border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n    &:nth-child(odd) {\n      background-color: rgba(0, 0, 0, 0.01);\n    }\n  `,\n  TableHeader = styled.div`\n    display: flex;\n    flex-direction: row;\n    padding: 5px;\n    border-bottom: 2px solid #000;\n  `,\n  Row = styled.div`\n    flex: 1;\n    padding: 5px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  `,\n  RowHeader = styled.div`\n    flex: 1;\n    font-weight: bold;\n    padding: 5px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  `,\n  ShowAppointments = styled.div`\n    position: relative;\n    bottom: 3px;\n    display: flex;\n    justify-content: center;\n    cursor: pointer;\n    border-radius: 5px;\n    color: #fff;\n    padding: 3px;\n    width: 50px;\n    background-color: green;\n    &:hover {\n      background-color: #24b424;\n      transition: 0.1s ease background-color;\n    }\n  `,\n  Modal = styled.div`\n    flex-direction: column;\n    display: flex;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    width: 100%;\n    background-color: #fff;\n    padding: 20px;\n    max-height: 100%;\n    min-height: 100%;\n    overflow-y: auto;\n  `,\n  AppointmentsWrapHeader = styled.div`\n    margin: 0 20px;\n    display: flex;\n    flex-direction: row;\n    font-weight: bold;\n    margin-top: 50px;\n    border-bottom: 2px solid rgba(0, 0, 0, 0.625);\n    padding: 10px;\n  `,\n  AppointmentsWrap = styled.div`\n    &:nth-child(odd) {\n      background-color: rgba(0, 0, 0, 0.03);\n    }\n    margin: 0 20px;\n    display: flex;\n    flex-direction: row;\n    padding: 10px;\n  `,\n  AppointmentsRow = styled.div`\n    flex: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: row;\n  `,\n  AppointmentsRowServices = styled.div`\n    width: 400px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n  `,\n  OfferFirst = styled.span`\n    width: 200px;\n    white-space: nowrap;\n    overflow: hidden;\n    padding: 5px;\n    text-overflow: ellipsis;\n    flex-direction: row;\n  `,\n  Offer = styled.span`\n    width: 90px;\n    white-space: nowrap;\n    overflow: hidden;\n    padding: 5px;\n    text-overflow: ellipsis;\n    flex-direction: row;\n  `,\n  CloseBtn = styled.div`\n    line-height: 26px;\n    border-radius: 5px;\n    padding: 5px 5px 7px 5px;\n    background-color: #fff;\n    border: 1px solid rgba(0, 0, 0, 0.625);\n    position: fixed;\n    cursor: pointer;\n    display: flex;\n    color: #000;\n    top: 20px;\n    right: 20px;\n    font-size: 26px;\n    &:hover {\n      border: 1px solid red;\n      color: red;\n      transition: 0.1s ease all;\n    }\n  `,\n  UserData = styled.span`\n    font-weight: bold;\n    margin-right: 15px;\n  `;\n\nconst App = () => {\n  const type = { Master: \"Master\", Client: \"Client\" };\n  const [clickedBtn, setClickedBtn] = useState(\"\"),\n    [DATA, setDATA] = useState(null),\n    [isLoading, setIsLoading] = useState(false),\n    [showAppointment, setShowAppointment] = useState(\"\"),\n    [selectedUser, setSelectedUser] = useState(\"\");\n\n  const loadUsers = (usersType) => {\n    setIsLoading(true);\n    QUERY({\n      query: `query {users (type: ${usersType}, first:${100}) { \n        data { \n          id type\n          profile {id city {id name} name email about_me}\n          master_appointments {\n            id date time status\n            offers {\n              description price_by_pack {duration price}\n              service {id name specialization {id name} photos {src}}\n            }\n            client {\n              profile {\n                name email\n              }\n            }\n          }\n          client_appointments {\n            id date time status\n            offers {\n              description price_by_pack {duration price}\n              service {id name specialization {id name} photos {src}}\n            }\n            master {\n              profile {\n                name email\n              }\n            }\n          }\n        } \n      }}`,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setDATA(data.data.users.data);\n        setIsLoading(false);\n      })\n      .catch((err) => {\n        alert(\"error\");\n        setIsLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    setClickedBtn(\"clients\");\n    loadUsers(type.Client);\n  }, []);\n\n  useEffect(() => {\n    showAppointment\n      ? (document.body.style.overflow = \"hidden\")\n      : (document.body.style.overflow = \"auto\");\n  }, [showAppointment]);\n\n  useEffect(() => {\n    console.log(DATA, \"-data\");\n  }, [DATA]);\n\n  return (\n    <div className=\"App\">\n      <Wrapper>\n        <LeftMenu>\n          <Button\n            onClick={() => {\n              setClickedBtn(\"clients\");\n              loadUsers(type.Client);\n            }}\n            active={clickedBtn === \"clients\"}\n          >\n            Клиенты{\" \"}\n            {DATA &&\n              DATA.length &&\n              DATA[0].type === \"Client\" &&\n              `(${DATA.length})`}\n          </Button>\n          <Button\n            onClick={() => {\n              setClickedBtn(\"masters\");\n              loadUsers(type.Master);\n            }}\n            active={clickedBtn === \"masters\"}\n          >\n            Мастера{\" \"}\n            {DATA &&\n              DATA.length &&\n              DATA[0].type === \"Master\" &&\n              `(${DATA.length})`}\n          </Button>\n        </LeftMenu>\n        <Content>\n          {DATA && DATA.length && (\n            <TableHeader>\n              <RowHeader>Id</RowHeader>\n              <RowHeader>Имя</RowHeader>\n              <RowHeader>Обо мне</RowHeader>\n              <RowHeader>Email</RowHeader>\n              <RowHeader>Город</RowHeader>\n              <RowHeader>Записи</RowHeader>\n            </TableHeader>\n          )}\n          {DATA &&\n            DATA.length &&\n            DATA.map((el, index) => (\n              <Table>\n                <Row>{el.id}</Row>\n                <Row>\n                  {el.profile ? (el.profile.name ? el.profile.name : \"-\") : \"-\"}\n                </Row>\n                <Row>\n                  {el.profile\n                    ? el.profile.about_me\n                      ? el.profile.about_me\n                      : \"-\"\n                    : \"-\"}\n                </Row>\n                <Row>\n                  {el.profile\n                    ? el.profile.email\n                      ? el.profile.email\n                      : \"-\"\n                    : \"-\"}\n                </Row>\n                <Row>\n                  {el.profile\n                    ? el.profile.city\n                      ? el.profile.city.name\n                      : \"-\"\n                    : \"-\"}\n                </Row>\n                <Row>\n                  {el.client_appointments.length !== 0 ||\n                  el.master_appointments.length !== 0 ? (\n                    <ShowAppointments\n                      onClick={() => {\n                        window.scrollTo(0, 0);\n                        setSelectedUser(el);\n                        setShowAppointment(\n                          el.client_appointments.length !== 0\n                            ? el.client_appointments\n                            : el.master_appointments\n                        );\n                      }}\n                    >\n                      {el.client_appointments.length ||\n                        el.master_appointments.length}\n                    </ShowAppointments>\n                  ) : (\n                    \"-\"\n                  )}\n                </Row>\n              </Table>\n            ))}\n        </Content>\n\n        {showAppointment && (\n          <Modal>\n            <CloseBtn onClick={() => setShowAppointment(null)}>\n              закрыть\n            </CloseBtn>\n            <div>\n              <UserData> UserId: {selectedUser.id}</UserData>\n              <UserData>\n                Name: {selectedUser.profile ? selectedUser.profile.name : \"-\"}\n              </UserData>\n              <UserData>\n                Email: {selectedUser.profile ? selectedUser.profile.email : \"-\"}\n              </UserData>\n            </div>\n            <AppointmentsWrapHeader>\n              <AppointmentsRow>Id </AppointmentsRow>\n              <AppointmentsRow> Дата </AppointmentsRow>\n              <AppointmentsRow> Время </AppointmentsRow>\n              <AppointmentsRow> Статус </AppointmentsRow>\n              <AppointmentsRowServices> Услуги </AppointmentsRowServices>\n            </AppointmentsWrapHeader>\n            {showAppointment.map((el, index) => {\n              console.log(el, \"---el\");\n              return (\n                <AppointmentsWrap>\n                  <AppointmentsRow> {el.id} </AppointmentsRow>\n                  <AppointmentsRow> {el.date} </AppointmentsRow>\n                  <AppointmentsRow> {el.time} </AppointmentsRow>\n                  <AppointmentsRow> {el.status} </AppointmentsRow>\n                  <AppointmentsRowServices>\n                    <div style={{ flexDirection: \"row\" }}>\n                      {el.offers.length\n                        ? el.offers.map((el, i) => (\n                            <div\n                              style={{\n                                display: \"flex\",\n                                flexDirection: \"row\",\n                                margin: \"5px\",\n                              }}\n                            >\n                              <OfferFirst>{el.service.name}</OfferFirst>\n                              <Offer>{el.price_by_pack.duration} мин.</Offer>\n                              <Offer>{el.price_by_pack.price} руб.</Offer>\n                            </div>\n                          ))\n                        : \"-\"}\n                    </div>\n                  </AppointmentsRowServices>\n                </AppointmentsWrap>\n              );\n            })}\n          </Modal>\n        )}\n\n        {isLoading && (\n          <Loader>\n            <Load>\n              <LoadBlockFirst />\n              <LoadBlockSecond />\n            </Load>\n          </Loader>\n        )}\n      </Wrapper>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}