(this.webpackJsonpadmin_profma=this.webpackJsonpadmin_profma||[]).push([[0],{31:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var i,c=n(0),r=n.n(c),s=n(9),a=n.n(s),o=n(16),l=n(10),d=n(20),j=(n(31),n(22)),p=function(e,t){return Promise.resolve(fetch("".concat("http://194.87.145.192/graphql"),{method:"POST",mode:"cors",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}))},h=n(62),b=n(59),m=n(63),x=n(60),f=n(61),u=n(21),O=n(1),g=j.a.div(i||(i=Object(d.a)(["\n  height: 50px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: rgba(0, 0, 0, 0.6);\n  position: fixed !important;\n  font-size: 25px;\n  top: 0;\n  left: 0;\n  background-color: #fff;\n  border-bottom: 1px solid #eee;\n"]))),y={bmBurgerButton:{position:"fixed",width:"36px",height:"30px",left:"10px",top:"10px"},bmBurgerBars:{background:"#000"},bmBurgerBarsHover:{background:"#999"},bmCrossButton:{height:"36px",width:"36px",marginTop:"5px"},bmCross:{background:"#000"},bmMenuWrap:{position:"fixed",height:"100%"},bmMenu:{overflow:"hidden",background:"#fff",fontSize:"1.15em",borderRight:"1px solid #eee"},bmMorphShape:{fill:"#373a47"},bmItemList:{color:"#000"},bmItem:{display:"inline-block"},bmOverlay:{position:"fixed",background:"rgba(0, 0, 0, 0.07)",overflow:"hidden"}},v=function(){var e="Master",t="Client",n=Object(c.useState)(""),i=Object(l.a)(n,2),r=i[0],s=i[1],a=Object(c.useState)(null),d=Object(l.a)(a,2),j=d[0],v=d[1],_=Object(c.useState)(!1),k=Object(l.a)(_,2),C=k[0],w=k[1],B=Object(c.useState)(""),S=Object(l.a)(B,2),I=S[0],T=S[1],M=Object(c.useState)(!1),N=Object(l.a)(M,2),z=N[0],A=N[1],F=function(e){w(!0),p({query:"query {users (type: ".concat(e,", first:",100,") { \n        data { \n          id type\n          profile {id city {id name} name email about_me}\n          master_appointments {\n            id date time status\n            offers {\n              description price_by_pack {duration price}\n              service {id name specialization {id name} photos {src}}\n            }\n            client {\n              profile {\n                name email\n              }\n            }\n          }\n          client_appointments {\n            id date time status\n            offers {\n              description price_by_pack {duration price}\n              service {id name specialization {id name} photos {src}}\n            }\n            master {\n              profile {\n                name email\n              }\n            }\n          }\n        } \n      }}")}).then((function(e){return e.json()})).then((function(e){v(e.data.users.data),w(!1)})).catch((function(e){alert("error"),w(!1)}))};Object(c.useEffect)((function(){s("clients"),F(t)}),[]);var P=function(e){return Object(O.jsxs)(h.a,Object(o.a)(Object(o.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(O.jsx)(h.a.Header,{closeButton:!0,children:Object(O.jsxs)(h.a.Title,{id:"contained-modal-title-vcenter",children:[Object(O.jsx)("div",{children:"Appointments"}),"UserId: ",I.id," Name:","  ",I.profile?I.profile.name:"-"," ","  ","Email:",I.profile?I.profile.email:"-"]})}),Object(O.jsx)(h.a.Body,{children:Object(O.jsxs)(b.a,{striped:!0,bordered:!0,hover:!0,children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Id"}),Object(O.jsx)("th",{children:"Master/client"}),Object(O.jsx)("th",{children:"Date"}),Object(O.jsx)("th",{children:"Time"}),Object(O.jsx)("th",{children:"Status"}),Object(O.jsx)("th",{children:"Offers"})]})}),Object(O.jsx)("tbody",{children:z&&z.length&&z.map((function(e,t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.id}),Object(O.jsx)("td",{children:e.client?e.client.profile?e.client.profile.name:"-":e.master.profile?e.master.profile.name:"-"}),Object(O.jsx)("td",{children:e.date}),Object(O.jsx)("td",{children:e.time.slice(0,5)}),Object(O.jsx)("td",{children:e.status}),Object(O.jsx)("td",{children:e.offers.length?e.offers.map((function(e,t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.service.name}),Object(O.jsxs)("td",{children:[e.price_by_pack.duration," \u043c\u0438\u043d."]}),Object(O.jsxs)("td",{children:[e.price_by_pack.price," \u0440\u0443\u0431."]})]})})):"-"})]})}))})]})})]}))};return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("div",{id:"outer-container",children:[Object(O.jsxs)(u.push,{disableAutoFocus:!0,styles:y,burgerButtonClassName:"burger",pageWrapId:"page-wrap",outerContainerId:"outer-container",width:"210px",children:[Object(O.jsx)("div",{style:{borderBottom:"1px solid #eee",padding:"11px",width:"210px"},children:"Profma"}),Object(O.jsxs)(m.a,{style:{margin:"10px",width:"190px",marginTop:"21px"},variant:"outline-info",block:!0,onClick:function(){s("clients"),F(t)},active:"clients"===r,children:["\u041a\u041b\u0418\u0415\u041d\u0422\u042b"," ",j&&j.length&&"Client"===j[0].type&&"(".concat(j.length,")")]}),Object(O.jsxs)(m.a,{style:{margin:"10px",width:"190px"},variant:"outline-info",block:!0,onClick:function(){s("masters"),F(e)},active:"masters"===r,children:["\u041c\u0410\u0421\u0422\u0415\u0420\u0410"," ",j&&j.length&&"Master"===j[0].type&&"(".concat(j.length,")")]})]}),Object(O.jsxs)("div",{id:"page-wrap",style:{background:"rgba(0,0,0,0.02)"},children:[Object(O.jsx)(g,{children:j&&j.length&&"Client"===j[0].type?"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432":"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043c\u0430\u0441\u0442\u0435\u0440\u043e\u0432"}),Object(O.jsxs)(x.a,{children:[Object(O.jsx)("div",{style:{height:"70px"},children:"\u0410\u0434\u043c\u0438\u043d\u043a\u0430"}),Object(O.jsxs)(b.a,{striped:!0,bordered:!0,hover:!0,children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Id"}),Object(O.jsx)("th",{children:"Name"}),Object(O.jsx)("th",{children:"About me"}),Object(O.jsx)("th",{children:"Email"}),Object(O.jsx)("th",{children:"City"}),Object(O.jsx)("th",{children:"Appointments"})]})}),Object(O.jsx)("tbody",{children:j&&j.length&&j.map((function(e,t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.id}),Object(O.jsx)("td",{children:e.profile&&e.profile.name?e.profile.name:"-"}),Object(O.jsx)("td",{children:e.profile&&e.profile.about_me?e.profile.about_me:"-"}),Object(O.jsx)("td",{children:e.profile&&e.profile.email?e.profile.email:"-"}),Object(O.jsx)("td",{children:e.profile&&e.profile.city?e.profile.city.name:"-"}),Object(O.jsx)("td",{children:0!==e.client_appointments.length||0!==e.master_appointments.length?Object(O.jsx)(m.a,{variant:"warning",onClick:function(){A(0!==e.client_appointments.length?e.client_appointments:e.master_appointments),T(e)},children:e.client_appointments.length||e.master_appointments.length}):"-"})]},t)}))})]})]})]})]}),Object(O.jsx)(P,{show:z,onHide:function(){return A(!1)}}),C&&Object(O.jsx)("div",{style:{display:"flex",height:"100vh",justifyContent:"center",alignItems:"center"},children:Object(O.jsx)(f.a,{animation:"border",role:"status",children:Object(O.jsx)("span",{className:"sr-only",children:"Loading..."})})})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),i(e),c(e),r(e),s(e)}))};a.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(v,{})}),document.getElementById("root")),_()}},[[56,1,2]]]);
//# sourceMappingURL=main.70edd0de.chunk.js.map