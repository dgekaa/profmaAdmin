{"version":3,"sources":["query.js","constants.js","App.js","reportWebVitals.js","index.js"],"names":["QUERY","body","origin_data","Promise","resolve","fetch","method","mode","JSON","stringify","headers","Header","styled","div","styles","bmBurgerButton","position","width","height","left","top","bmBurgerBars","background","bmBurgerBarsHover","bmCrossButton","marginTop","bmCross","bmMenuWrap","bmMenu","overflow","fontSize","borderRight","bmMorphShape","fill","bmItemList","color","bmItem","display","bmOverlay","App","type","useState","clickedBtn","setClickedBtn","DATA","setDATA","isLoading","setIsLoading","selectedUser","setSelectedUser","modalShow","setModalShow","loadUsers","usersType","query","then","res","json","data","users","catch","err","alert","useEffect","MyVerticallyCenteredModal","props","Modal","size","aria-labelledby","centered","closeButton","Title","id","profile","name","email","Body","Table","striped","bordered","hover","length","map","el","index","client","master","date","time","slice","status","offers","i","service","price_by_pack","duration","price","className","disableAutoFocus","burgerButtonClassName","pageWrapId","outerContainerId","style","borderBottom","padding","Button","margin","variant","block","onClick","active","Container","about_me","city","client_appointments","master_appointments","show","onHide","justifyContent","alignItems","Spinner","animation","role","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.70edd0de.chunk.js","sourcesContent":["import { PATH } from \"./constants\";\r\n\r\nconst QUERY = (body, origin_data) => {\r\n  return Promise.resolve(\r\n    fetch(`${PATH}`, {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      body: JSON.stringify(body),\r\n      headers: {\r\n        // \"Access-Control-Allow-Origin\": \"https://backend.partylive.by\",\r\n        \"Content-Type\": \"application/json\",\r\n        // Authorization: origin_data ? \"Bearer \" + origin_data : \"\",\r\n      },\r\n    })\r\n  );\r\n};\r\n\r\nexport default QUERY;\r\n","export const PATH = \"http://194.87.145.192/graphql\";\r\n","import \"./App.css\";\nimport { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport QUERY from \"./query\";\nimport { Container, Table, Button, Spinner, Modal } from \"react-bootstrap\";\nimport { push as Menu } from \"react-burger-menu\";\n\nconst Header = styled.div`\n  height: 50px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: rgba(0, 0, 0, 0.6);\n  position: fixed !important;\n  font-size: 25px;\n  top: 0;\n  left: 0;\n  background-color: #fff;\n  border-bottom: 1px solid #eee;\n`;\n\nvar styles = {\n  bmBurgerButton: {\n    position: \"fixed\",\n    width: \"36px\",\n    height: \"30px\",\n    left: \"10px\",\n    top: \"10px\",\n  },\n  bmBurgerBars: {\n    background: \"#000\",\n  },\n  bmBurgerBarsHover: {\n    background: \"#999\",\n  },\n  bmCrossButton: {\n    height: \"36px\",\n    width: \"36px\",\n    marginTop: \"5px\",\n  },\n  bmCross: {\n    background: \"#000\",\n  },\n  bmMenuWrap: {\n    position: \"fixed\",\n    height: \"100%\",\n  },\n  bmMenu: {\n    overflow: \"hidden\",\n    background: \"#fff\",\n    fontSize: \"1.15em\",\n    borderRight: \"1px solid #eee\",\n  },\n  bmMorphShape: {\n    fill: \"#373a47\",\n  },\n  bmItemList: {\n    color: \"#000\",\n  },\n  bmItem: {\n    display: \"inline-block\",\n  },\n  bmOverlay: {\n    position: \"fixed\",\n    background: \"rgba(0, 0, 0, 0.07)\",\n    overflow: \"hidden\",\n  },\n};\n\nconst App = () => {\n  const type = { Master: \"Master\", Client: \"Client\" };\n  const [clickedBtn, setClickedBtn] = useState(\"\"),\n    [DATA, setDATA] = useState(null),\n    [isLoading, setIsLoading] = useState(false),\n    [selectedUser, setSelectedUser] = useState(\"\"),\n    [modalShow, setModalShow] = useState(false);\n\n  const loadUsers = (usersType) => {\n    setIsLoading(true);\n    QUERY({\n      query: `query {users (type: ${usersType}, first:${100}) { \n        data { \n          id type\n          profile {id city {id name} name email about_me}\n          master_appointments {\n            id date time status\n            offers {\n              description price_by_pack {duration price}\n              service {id name specialization {id name} photos {src}}\n            }\n            client {\n              profile {\n                name email\n              }\n            }\n          }\n          client_appointments {\n            id date time status\n            offers {\n              description price_by_pack {duration price}\n              service {id name specialization {id name} photos {src}}\n            }\n            master {\n              profile {\n                name email\n              }\n            }\n          }\n        } \n      }}`,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setDATA(data.data.users.data);\n        setIsLoading(false);\n      })\n      .catch((err) => {\n        alert(\"error\");\n        setIsLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    setClickedBtn(\"clients\");\n    loadUsers(type.Client);\n  }, []);\n\n  const MyVerticallyCenteredModal = (props) => {\n    return (\n      <Modal\n        {...props}\n        size=\"lg\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"contained-modal-title-vcenter\">\n            <div>Appointments</div>\n            UserId: {selectedUser.id} Name:{\"  \"}\n            {selectedUser.profile ? selectedUser.profile.name : \"-\"} {\"  \"}\n            Email:\n            {selectedUser.profile ? selectedUser.profile.email : \"-\"}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Table striped bordered hover>\n            <thead>\n              <tr>\n                <th>Id</th>\n                <th>Master/client</th>\n                <th>Date</th>\n                <th>Time</th>\n                <th>Status</th>\n                <th>Offers</th>\n              </tr>\n            </thead>\n            <tbody>\n              {modalShow &&\n                modalShow.length &&\n                modalShow.map((el, index) => (\n                  <tr>\n                    <td>{el.id}</td>\n                    <td>\n                      {el.client\n                        ? el.client.profile\n                          ? el.client.profile.name\n                          : \"-\"\n                        : el.master.profile\n                        ? el.master.profile.name\n                        : \"-\"}\n                    </td>\n                    <td>{el.date}</td>\n                    <td>{el.time.slice(0, 5)}</td>\n                    <td>{el.status}</td>\n                    <td>\n                      {el.offers.length\n                        ? el.offers.map((el, i) => (\n                            <tr>\n                              <td>{el.service.name}</td>\n                              <td>{el.price_by_pack.duration} мин.</td>\n                              <td>{el.price_by_pack.price} руб.</td>\n                            </tr>\n                          ))\n                        : \"-\"}\n                    </td>\n                  </tr>\n                ))}\n            </tbody>\n          </Table>\n        </Modal.Body>\n      </Modal>\n    );\n  };\n\n  return (\n    <div className=\"App\">\n      <div id=\"outer-container\">\n        <Menu\n          // onStateChange={(data) => window.scrollTo(0, 0)}\n          disableAutoFocus\n          styles={styles}\n          burgerButtonClassName={\"burger\"}\n          pageWrapId={\"page-wrap\"}\n          outerContainerId={\"outer-container\"}\n          width={\"210px\"}\n        >\n          <div\n            style={{\n              borderBottom: \"1px solid #eee\",\n              padding: \"11px\",\n              width: \"210px\",\n            }}\n          >\n            Profma\n          </div>\n          <Button\n            style={{ margin: \"10px\", width: \"190px\", marginTop: \"21px\" }}\n            variant=\"outline-info\"\n            block\n            onClick={() => {\n              setClickedBtn(\"clients\");\n              loadUsers(type.Client);\n            }}\n            active={clickedBtn === \"clients\"}\n          >\n            КЛИЕНТЫ{\" \"}\n            {DATA &&\n              DATA.length &&\n              DATA[0].type === \"Client\" &&\n              `(${DATA.length})`}\n          </Button>\n          <Button\n            style={{ margin: \"10px\", width: \"190px\" }}\n            variant=\"outline-info\"\n            block\n            onClick={() => {\n              setClickedBtn(\"masters\");\n              loadUsers(type.Master);\n            }}\n            active={clickedBtn === \"masters\"}\n          >\n            МАСТЕРА{\" \"}\n            {DATA &&\n              DATA.length &&\n              DATA[0].type === \"Master\" &&\n              `(${DATA.length})`}\n          </Button>\n        </Menu>\n        <div id=\"page-wrap\" style={{ background: \"rgba(0,0,0,0.02)\" }}>\n          <Header>\n            {DATA && DATA.length && DATA[0].type === \"Client\"\n              ? \"Таблица клиентов\"\n              : \"Таблица мастеров\"}\n          </Header>\n          <Container>\n            <div style={{ height: \"70px\" }}>Админка</div>\n            <Table striped bordered hover>\n              <thead>\n                <tr>\n                  <th>Id</th>\n                  <th>Name</th>\n                  <th>About me</th>\n                  <th>Email</th>\n                  <th>City</th>\n                  <th>Appointments</th>\n                </tr>\n              </thead>\n              <tbody>\n                {DATA &&\n                  DATA.length &&\n                  DATA.map((el, index) => (\n                    <tr key={index}>\n                      <td>{el.id}</td>\n                      <td>\n                        {el.profile\n                          ? el.profile.name\n                            ? el.profile.name\n                            : \"-\"\n                          : \"-\"}\n                      </td>\n                      <td>\n                        {el.profile\n                          ? el.profile.about_me\n                            ? el.profile.about_me\n                            : \"-\"\n                          : \"-\"}\n                      </td>\n                      <td>\n                        {el.profile\n                          ? el.profile.email\n                            ? el.profile.email\n                            : \"-\"\n                          : \"-\"}\n                      </td>\n                      <td>\n                        {el.profile\n                          ? el.profile.city\n                            ? el.profile.city.name\n                            : \"-\"\n                          : \"-\"}\n                      </td>\n                      <td>\n                        {el.client_appointments.length !== 0 ||\n                        el.master_appointments.length !== 0 ? (\n                          <Button\n                            variant=\"warning\"\n                            onClick={() => {\n                              setModalShow(\n                                el.client_appointments.length !== 0\n                                  ? el.client_appointments\n                                  : el.master_appointments\n                              );\n                              setSelectedUser(el);\n                            }}\n                          >\n                            {el.client_appointments.length ||\n                              el.master_appointments.length}\n                          </Button>\n                        ) : (\n                          \"-\"\n                        )}\n                      </td>\n                    </tr>\n                  ))}\n              </tbody>\n            </Table>\n          </Container>\n        </div>\n      </div>\n\n      <MyVerticallyCenteredModal\n        show={modalShow}\n        onHide={() => setModalShow(false)}\n      />\n      {isLoading && (\n        <div\n          style={{\n            display: \"flex\",\n            height: \"100vh\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <Spinner animation=\"border\" role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n          </Spinner>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}