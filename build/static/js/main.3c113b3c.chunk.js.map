{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["Line","styled","div","Area","span","AppointmentsWrap","Appointments","Appointment","width","color","Offers","OfferWrap","Offer","p","App","useState","masters","clients","clientsLoading","mastersLoading","useEffect","console","log","className","length","map","el","i","onClick","e","master_appointments","currentTarget","nextElementSibling","style","display","id","profile","name","about_me","email","city","appointment","client","status","date","time","offers","offer","service","price_by_pack","price","duration","client_appointments","master","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3c113b3c.chunk.js","sourcesContent":["import \"./App.css\";\nimport { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport QUERY from \"./query\";\n\nconst Line = styled.div`\n    cursor: pointer;\n    display: flex;\n    border-bottom: 1px solid #eee;\n    padding: 10px;\n    &:hover {\n      background: rgba(111, 111, 111, 0.05);\n      transition: 0.3s ease background;\n    }\n    @media (max-width: 760px) {\n    }\n  `,\n  Area = styled.span`\n    display: flex;\n    padding: 0 10px;\n    width: 100px;\n    justify-content: center;\n    @media (max-width: 760px) {\n    }\n  `,\n  AppointmentsWrap = styled.div`\n    padding: 5px;\n    display: flex;\n    width: 100%;\n    flex-direction: column;\n    background: rgba(32, 234, 77, 0.4);\n    @media (max-width: 760px) {\n    }\n  `,\n  Appointments = styled.div`\n    background: #fff;\n    padding: 5px;\n    margin: 5px;\n    display: flex;\n    flex-direction: row;\n    padding: 0;\n    @media (max-width: 760px) {\n    }\n  `,\n  Appointment = styled.span`\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    width: ${({ width }) => (width ? width + \"px\" : \"100px\")};\n    color: ${({ color }) => (color ? color : \"\")};\n    @media (max-width: 760px) {\n    }\n  `,\n  Offers = styled.div`\n    width: 100px;\n    @media (max-width: 760px) {\n    }\n  `,\n  OfferWrap = styled.div`\n    margin: 5px 0;\n    @media (max-width: 760px) {\n    }\n  `,\n  Offer = styled.p`\n    width: 120px;\n    margin: 0;\n    padding: 0;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    @media (max-width: 760px) {\n    }\n  `;\n\nconst App = () => {\n  const type = { Master: \"Master\", Client: \"Client\" };\n\n  const [masters, setMasters] = useState(\"\"),\n    [clients, setClients] = useState(\"\"),\n    [clientsLoading, setClientsLoading] = useState(true),\n    [mastersLoading, setMastersLoading] = useState(true);\n\n  const loadUsers = (usersType) => {\n    usersType === \"Master\" ? setMastersLoading(true) : setClientsLoading(true);\n    QUERY({\n      query: `query {users (type: ${usersType}, first:${100}) { \n        data { \n          id type\n          profile {id city {id name} name email about_me}\n          master_appointments {\n            id date time status\n            offers {\n              description price_by_pack {duration price}\n              service {id name specialization {id name} photos {src}}\n            }\n            client {\n              profile {\n                name email\n              }\n            }\n          }\n          client_appointments {\n            id date time status\n            offers {\n              description price_by_pack {duration price}\n              service {id name specialization {id name} photos {src}}\n            }\n            master {\n              profile {\n                name email\n              }\n            }\n          }\n        } \n      }}`,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        usersType === \"Master\"\n          ? setMastersLoading(false)\n          : setClientsLoading(false);\n\n        usersType === \"Master\"\n          ? setMasters(data.data.users.data)\n          : setClients(data.data.users.data);\n      })\n      .catch((err) => {\n        usersType === \"Master\"\n          ? setMastersLoading(false)\n          : setClientsLoading(false);\n        console.log(err);\n      });\n  };\n\n  // useEffect(() => {\n  //   loadUsers(type.Client);\n  //   loadUsers(type.Master);\n  // }, []);\n\n  useEffect(() => {\n    console.log(masters, \"-----masters\");\n    console.log(clients, \"-----clients\");\n  }, [masters, clients]);\n\n  return (\n    <div className=\"App\">\n      <h1>PROFMA</h1>\n      <h2>Мастера</h2>\n      {mastersLoading && <div>Идет загрузка данных...</div>}\n      {masters &&\n        masters.length &&\n        masters.map((el, i) => (\n          <div>\n            <Line\n              onClick={(e) => {\n                if (el.master_appointments.length) {\n                  e.currentTarget.nextElementSibling.style.display === \"flex\"\n                    ? (e.currentTarget.nextElementSibling.style.display =\n                        \"none\")\n                    : (e.currentTarget.nextElementSibling.style.display =\n                        \"flex\");\n                }\n              }}\n            >\n              {el.master_appointments.length ? \"!\" : \"\"}\n              <Area>{el.id || \"-\"}</Area>\n              <Area>{el.profile.name || \"-\"}</Area>\n              <Area>{el.profile.about_me || \"-\"}</Area>\n              <Area>{el.profile.email || \"-\"}</Area>\n              <Area>{el.profile.city ? el.profile.city.name : \"-\"}</Area>\n            </Line>\n            <div style={{ display: \"none\" }}>\n              {el.master_appointments.length && (\n                <AppointmentsWrap>\n                  {el.master_appointments.map((appointment, i) => (\n                    <Appointments>\n                      <Appointment width={30} color={\"red\"}>\n                        {appointment.id}\n                      </Appointment>\n                      <Appointment>\n                        {appointment.client.profile.name}\n                      </Appointment>\n                      <Appointment>\n                        {appointment.client.profile.email || \"-\"}\n                      </Appointment>\n                      <Appointment>{appointment.status}</Appointment>\n                      <Appointment>{appointment.date}</Appointment>\n                      <Appointment>{appointment.time}</Appointment>\n                      <Offers>\n                        {appointment.offers.length &&\n                          appointment.offers.map((offer, i) => (\n                            <OfferWrap>\n                              <Offer>{offer.service.name}</Offer>\n                              <Offer>\n                                {offer.price_by_pack.price} руб.\n                                {offer.price_by_pack.duration} мин.\n                              </Offer>\n                            </OfferWrap>\n                          ))}\n                      </Offers>\n                    </Appointments>\n                  ))}\n                </AppointmentsWrap>\n              )}\n            </div>\n          </div>\n        ))}\n\n      <h2>Клиенты</h2>\n      {clientsLoading && <div>Идет загрузка данных...</div>}\n      {clients &&\n        clients.length &&\n        clients.map((el, i) => (\n          <div>\n            <Line\n              onClick={(e) => {\n                if (el.client_appointments.length) {\n                  e.currentTarget.nextElementSibling.style.display === \"flex\"\n                    ? (e.currentTarget.nextElementSibling.style.display =\n                        \"none\")\n                    : (e.currentTarget.nextElementSibling.style.display =\n                        \"flex\");\n                }\n              }}\n            >\n              {el.client_appointments.length ? \"!\" : \"\"}\n              <Area>{el.id || \"-\"}</Area>\n              <Area>{el.profile ? el.profile.name : \"-\"}</Area>\n              <Area>{el.profile ? el.profile.about_me : \"-\"}</Area>\n              <Area>{el.profile ? el.profile.email : \"-\"}</Area>\n              <Area>\n                {el.profile\n                  ? el.profile.city\n                    ? el.profile.city.name\n                    : \"-\"\n                  : \"-\"}\n              </Area>\n            </Line>\n            <div style={{ display: \"none\" }}>\n              {el.client_appointments.length && (\n                <AppointmentsWrap>\n                  {el.client_appointments.map((appointment, i) => (\n                    <Appointments>\n                      <Appointment width={30} color={\"red\"}>\n                        {appointment.id}\n                      </Appointment>\n                      <Appointment>\n                        {appointment.master.profile\n                          ? appointment.master.profile.name\n                          : \"-\"}\n                      </Appointment>\n                      <Appointment>\n                        {appointment.master.profile\n                          ? appointment.master.profile.email\n                          : \"-\"}\n                      </Appointment>\n                      <Appointment>{appointment.status}</Appointment>\n                      <Appointment>{appointment.date}</Appointment>\n                      <Appointment>{appointment.time}</Appointment>\n                      <Offers>\n                        {appointment.offers.length &&\n                          appointment.offers.map((offer, i) => (\n                            <OfferWrap>\n                              <Offer>{offer.service.name}</Offer>\n                              <Offer>\n                                {offer.price_by_pack.price} руб.\n                                {offer.price_by_pack.duration} мин.\n                              </Offer>\n                            </OfferWrap>\n                          ))}\n                      </Offers>\n                    </Appointments>\n                  ))}\n                </AppointmentsWrap>\n              )}\n            </div>\n          </div>\n        ))}\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}