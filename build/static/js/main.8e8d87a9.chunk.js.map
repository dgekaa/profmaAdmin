{"version":3,"sources":["query.js","constants.js","App.js","reportWebVitals.js","index.js"],"names":["QUERY","body","origin_data","Promise","resolve","fetch","method","mode","JSON","stringify","headers","Line","styled","div","Area","span","AppointmentsWrap","Appointments","Appointment","width","color","Offers","OfferWrap","Offer","p","App","type","useState","masters","setMasters","clients","setClients","clientsLoading","setClientsLoading","mastersLoading","setMastersLoading","loadUsers","usersType","query","then","res","json","data","users","catch","err","console","log","useEffect","className","length","map","el","i","onClick","e","master_appointments","currentTarget","nextElementSibling","style","display","id","profile","name","about_me","email","city","appointment","client","status","date","time","offers","offer","service","price_by_pack","price","duration","client_appointments","master","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0NAiBeA,EAfD,SAACC,EAAMC,GACnB,OAAOC,QAAQC,QACbC,MAAM,GAAD,OCJW,iCDIC,CACfC,OAAQ,OACRC,KAAM,OACNN,KAAMO,KAAKC,UAAUR,GACrBS,QAAS,CAEP,eAAgB,wB,OELlBC,EAAOC,IAAOC,IAAV,qRAYRC,EAAOF,IAAOG,KAAV,iKAQJC,EAAmBJ,IAAOC,IAAV,qMAShBI,EAAeL,IAAOC,IAAV,iMAUZK,EAAcN,IAAOG,KAAV,uLAIA,gBAAGI,EAAH,EAAGA,MAAH,OAAgBA,EAAQA,EAAQ,KAAO,WACvC,gBAAGC,EAAH,EAAGA,MAAH,OAAgBA,GAAgB,MAI3CC,EAAST,IAAOC,IAAV,yFAKNS,EAAYV,IAAOC,IAAV,0FAKTU,EAAQX,IAAOY,EAAV,yMA2NQC,EAhNH,WACV,IAAMC,EAAiB,SAAjBA,EAAmC,SAEzC,EAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,OAC0BF,mBAAS,IADnC,mBACGG,EADH,KACYC,EADZ,OAEwCJ,oBAAS,GAFjD,mBAEGK,EAFH,KAEmBC,EAFnB,OAGwCN,oBAAS,GAHjD,mBAGGO,EAHH,KAGmBC,EAHnB,KAKMC,EAAY,SAACC,GACH,WAAdA,EAAyBF,GAAkB,GAAQF,GAAkB,GACrEjC,EAAM,CACJsC,MAAM,uBAAD,OAAyBD,EAAzB,WAA6C,IAA7C,+zBA+BJE,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACS,WAAdL,EACIF,GAAkB,GAClBF,GAAkB,GAER,WAAdI,EACIR,EAAWa,EAAKA,KAAKC,MAAMD,MAC3BX,EAAWW,EAAKA,KAAKC,MAAMD,SAEhCE,OAAM,SAACC,GACQ,WAAdR,EACIF,GAAkB,GAClBF,GAAkB,GACtBa,QAAQC,IAAIF,OAclB,OAVAG,qBAAU,WACRZ,EAAUV,GACVU,EAAUV,KACT,IAEHsB,qBAAU,WACRF,QAAQC,IAAInB,EAAS,gBACrBkB,QAAQC,IAAIjB,EAAS,kBACpB,CAACF,EAASE,IAGX,sBAAKmB,UAAU,MAAf,UACE,wCACA,4EACCf,GAAkB,oJAClBN,GACCA,EAAQsB,QACRtB,EAAQuB,KAAI,SAACC,EAAIC,GAAL,OACV,gCACE,eAAC1C,EAAD,CACE2C,QAAS,SAACC,GACJH,EAAGI,oBAAoBN,SAC4B,SAArDK,EAAEE,cAAcC,mBAAmBC,MAAMC,QACpCL,EAAEE,cAAcC,mBAAmBC,MAAMC,QACxC,OACDL,EAAEE,cAAcC,mBAAmBC,MAAMC,QACxC,SAPZ,UAWGR,EAAGI,oBAAoBN,OAAS,IAAM,GACvC,cAACpC,EAAD,UAAOsC,EAAGS,IAAM,MAChB,cAAC/C,EAAD,UAAOsC,EAAGU,QAAQC,MAAQ,MAC1B,cAACjD,EAAD,UAAOsC,EAAGU,QAAQE,UAAY,MAC9B,cAAClD,EAAD,UAAOsC,EAAGU,QAAQG,OAAS,MAC3B,cAACnD,EAAD,UAAOsC,EAAGU,QAAQI,KAAOd,EAAGU,QAAQI,KAAKH,KAAO,SAElD,qBAAKJ,MAAO,CAAEC,QAAS,QAAvB,SACGR,EAAGI,oBAAoBN,QACtB,cAAClC,EAAD,UACGoC,EAAGI,oBAAoBL,KAAI,SAACgB,EAAad,GAAd,OAC1B,eAACpC,EAAD,WACE,cAACC,EAAD,CAAaC,MAAO,GAAIC,MAAO,MAA/B,SACG+C,EAAYN,KAEf,cAAC3C,EAAD,UACGiD,EAAYC,OAAON,QAAQC,OAE9B,cAAC7C,EAAD,UACGiD,EAAYC,OAAON,QAAQG,OAAS,MAEvC,cAAC/C,EAAD,UAAciD,EAAYE,SAC1B,cAACnD,EAAD,UAAciD,EAAYG,OAC1B,cAACpD,EAAD,UAAciD,EAAYI,OAC1B,cAAClD,EAAD,UACG8C,EAAYK,OAAOtB,QAClBiB,EAAYK,OAAOrB,KAAI,SAACsB,EAAOpB,GAAR,OACrB,eAAC/B,EAAD,WACE,cAACC,EAAD,UAAQkD,EAAMC,QAAQX,OACtB,eAACxC,EAAD,WACGkD,EAAME,cAAcC,MADvB,uBAEGH,EAAME,cAAcE,SAFvB,kDAexB,4EACC7C,GAAkB,oJAClBF,GACCA,EAAQoB,QACRpB,EAAQqB,KAAI,SAACC,EAAIC,GAAL,OACV,gCACE,eAAC1C,EAAD,CACE2C,QAAS,SAACC,GACJH,EAAG0B,oBAAoB5B,SAC4B,SAArDK,EAAEE,cAAcC,mBAAmBC,MAAMC,QACpCL,EAAEE,cAAcC,mBAAmBC,MAAMC,QACxC,OACDL,EAAEE,cAAcC,mBAAmBC,MAAMC,QACxC,SAPZ,UAWGR,EAAG0B,oBAAoB5B,OAAS,IAAM,GACvC,cAACpC,EAAD,UAAOsC,EAAGS,IAAM,MAChB,cAAC/C,EAAD,UAAOsC,EAAGU,QAAUV,EAAGU,QAAQC,KAAO,MACtC,cAACjD,EAAD,UAAOsC,EAAGU,QAAUV,EAAGU,QAAQE,SAAW,MAC1C,cAAClD,EAAD,UAAOsC,EAAGU,QAAUV,EAAGU,QAAQG,MAAQ,MACvC,cAACnD,EAAD,UACGsC,EAAGU,SACAV,EAAGU,QAAQI,KACTd,EAAGU,QAAQI,KAAKH,KAElB,SAGR,qBAAKJ,MAAO,CAAEC,QAAS,QAAvB,SACGR,EAAG0B,oBAAoB5B,QACtB,cAAClC,EAAD,UACGoC,EAAG0B,oBAAoB3B,KAAI,SAACgB,EAAad,GAAd,OAC1B,eAACpC,EAAD,WACE,cAACC,EAAD,CAAaC,MAAO,GAAIC,MAAO,MAA/B,SACG+C,EAAYN,KAEf,cAAC3C,EAAD,UACGiD,EAAYY,OAAOjB,QAChBK,EAAYY,OAAOjB,QAAQC,KAC3B,MAEN,cAAC7C,EAAD,UACGiD,EAAYY,OAAOjB,QAChBK,EAAYY,OAAOjB,QAAQG,MAC3B,MAEN,cAAC/C,EAAD,UAAciD,EAAYE,SAC1B,cAACnD,EAAD,UAAciD,EAAYG,OAC1B,cAACpD,EAAD,UAAciD,EAAYI,OAC1B,cAAClD,EAAD,UACG8C,EAAYK,OAAOtB,QAClBiB,EAAYK,OAAOrB,KAAI,SAACsB,EAAOpB,GAAR,OACrB,eAAC/B,EAAD,WACE,cAACC,EAAD,UAAQkD,EAAMC,QAAQX,OACtB,eAACxC,EAAD,WACGkD,EAAME,cAAcC,MADvB,uBAEGH,EAAME,cAAcE,SAFvB,sDC5PfG,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB3C,MAAK,YAAkD,IAA/C4C,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCFdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAG1BZ,M","file":"static/js/main.8e8d87a9.chunk.js","sourcesContent":["import { PATH } from \"./constants\";\r\n\r\nconst QUERY = (body, origin_data) => {\r\n  return Promise.resolve(\r\n    fetch(`${PATH}`, {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      body: JSON.stringify(body),\r\n      headers: {\r\n        // \"Access-Control-Allow-Origin\": \"https://backend.partylive.by\",\r\n        \"Content-Type\": \"application/json\",\r\n        // Authorization: origin_data ? \"Bearer \" + origin_data : \"\",\r\n      },\r\n    })\r\n  );\r\n};\r\n\r\nexport default QUERY;\r\n","export const PATH = \"http://194.87.145.192/graphql\";\r\n","import \"./App.css\";\nimport { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport QUERY from \"./query\";\n\nconst Line = styled.div`\n    cursor: pointer;\n    display: flex;\n    border-bottom: 1px solid #eee;\n    padding: 10px;\n    &:hover {\n      background: rgba(111, 111, 111, 0.05);\n      transition: 0.3s ease background;\n    }\n    @media (max-width: 760px) {\n    }\n  `,\n  Area = styled.span`\n    display: flex;\n    padding: 0 10px;\n    width: 100px;\n    justify-content: center;\n    @media (max-width: 760px) {\n    }\n  `,\n  AppointmentsWrap = styled.div`\n    padding: 5px;\n    display: flex;\n    width: 100%;\n    flex-direction: column;\n    background: rgba(32, 234, 77, 0.4);\n    @media (max-width: 760px) {\n    }\n  `,\n  Appointments = styled.div`\n    background: #fff;\n    padding: 5px;\n    margin: 5px;\n    display: flex;\n    flex-direction: row;\n    padding: 0;\n    @media (max-width: 760px) {\n    }\n  `,\n  Appointment = styled.span`\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    width: ${({ width }) => (width ? width + \"px\" : \"100px\")};\n    color: ${({ color }) => (color ? color : \"\")};\n    @media (max-width: 760px) {\n    }\n  `,\n  Offers = styled.div`\n    width: 100px;\n    @media (max-width: 760px) {\n    }\n  `,\n  OfferWrap = styled.div`\n    margin: 5px 0;\n    @media (max-width: 760px) {\n    }\n  `,\n  Offer = styled.p`\n    width: 120px;\n    margin: 0;\n    padding: 0;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    @media (max-width: 760px) {\n    }\n  `;\n\nconst App = () => {\n  const type = { Master: \"Master\", Client: \"Client\" };\n\n  const [masters, setMasters] = useState(\"\"),\n    [clients, setClients] = useState(\"\"),\n    [clientsLoading, setClientsLoading] = useState(true),\n    [mastersLoading, setMastersLoading] = useState(true);\n\n  const loadUsers = (usersType) => {\n    usersType === \"Master\" ? setMastersLoading(true) : setClientsLoading(true);\n    QUERY({\n      query: `query {users (type: ${usersType}, first:${100}) { \n        data { \n          id type\n          profile {id city {id name} name email about_me}\n          master_appointments {\n            id date time status\n            offers {\n              description price_by_pack {duration price}\n              service {id name specialization {id name} photos {src}}\n            }\n            client {\n              profile {\n                name email\n              }\n            }\n          }\n          client_appointments {\n            id date time status\n            offers {\n              description price_by_pack {duration price}\n              service {id name specialization {id name} photos {src}}\n            }\n            master {\n              profile {\n                name email\n              }\n            }\n          }\n        } \n      }}`,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        usersType === \"Master\"\n          ? setMastersLoading(false)\n          : setClientsLoading(false);\n\n        usersType === \"Master\"\n          ? setMasters(data.data.users.data)\n          : setClients(data.data.users.data);\n      })\n      .catch((err) => {\n        usersType === \"Master\"\n          ? setMastersLoading(false)\n          : setClientsLoading(false);\n        console.log(err);\n      });\n  };\n\n  useEffect(() => {\n    loadUsers(type.Client);\n    loadUsers(type.Master);\n  }, []);\n\n  useEffect(() => {\n    console.log(masters, \"-----masters\");\n    console.log(clients, \"-----clients\");\n  }, [masters, clients]);\n\n  return (\n    <div className=\"App\">\n      <h1>PROFMA</h1>\n      <h2>Мастера</h2>\n      {mastersLoading && <div>Идет загрузка данных...</div>}\n      {masters &&\n        masters.length &&\n        masters.map((el, i) => (\n          <div>\n            <Line\n              onClick={(e) => {\n                if (el.master_appointments.length) {\n                  e.currentTarget.nextElementSibling.style.display === \"flex\"\n                    ? (e.currentTarget.nextElementSibling.style.display =\n                        \"none\")\n                    : (e.currentTarget.nextElementSibling.style.display =\n                        \"flex\");\n                }\n              }}\n            >\n              {el.master_appointments.length ? \"!\" : \"\"}\n              <Area>{el.id || \"-\"}</Area>\n              <Area>{el.profile.name || \"-\"}</Area>\n              <Area>{el.profile.about_me || \"-\"}</Area>\n              <Area>{el.profile.email || \"-\"}</Area>\n              <Area>{el.profile.city ? el.profile.city.name : \"-\"}</Area>\n            </Line>\n            <div style={{ display: \"none\" }}>\n              {el.master_appointments.length && (\n                <AppointmentsWrap>\n                  {el.master_appointments.map((appointment, i) => (\n                    <Appointments>\n                      <Appointment width={30} color={\"red\"}>\n                        {appointment.id}\n                      </Appointment>\n                      <Appointment>\n                        {appointment.client.profile.name}\n                      </Appointment>\n                      <Appointment>\n                        {appointment.client.profile.email || \"-\"}\n                      </Appointment>\n                      <Appointment>{appointment.status}</Appointment>\n                      <Appointment>{appointment.date}</Appointment>\n                      <Appointment>{appointment.time}</Appointment>\n                      <Offers>\n                        {appointment.offers.length &&\n                          appointment.offers.map((offer, i) => (\n                            <OfferWrap>\n                              <Offer>{offer.service.name}</Offer>\n                              <Offer>\n                                {offer.price_by_pack.price} руб.\n                                {offer.price_by_pack.duration} мин.\n                              </Offer>\n                            </OfferWrap>\n                          ))}\n                      </Offers>\n                    </Appointments>\n                  ))}\n                </AppointmentsWrap>\n              )}\n            </div>\n          </div>\n        ))}\n\n      <h2>Клиенты</h2>\n      {clientsLoading && <div>Идет загрузка данных...</div>}\n      {clients &&\n        clients.length &&\n        clients.map((el, i) => (\n          <div>\n            <Line\n              onClick={(e) => {\n                if (el.client_appointments.length) {\n                  e.currentTarget.nextElementSibling.style.display === \"flex\"\n                    ? (e.currentTarget.nextElementSibling.style.display =\n                        \"none\")\n                    : (e.currentTarget.nextElementSibling.style.display =\n                        \"flex\");\n                }\n              }}\n            >\n              {el.client_appointments.length ? \"!\" : \"\"}\n              <Area>{el.id || \"-\"}</Area>\n              <Area>{el.profile ? el.profile.name : \"-\"}</Area>\n              <Area>{el.profile ? el.profile.about_me : \"-\"}</Area>\n              <Area>{el.profile ? el.profile.email : \"-\"}</Area>\n              <Area>\n                {el.profile\n                  ? el.profile.city\n                    ? el.profile.city.name\n                    : \"-\"\n                  : \"-\"}\n              </Area>\n            </Line>\n            <div style={{ display: \"none\" }}>\n              {el.client_appointments.length && (\n                <AppointmentsWrap>\n                  {el.client_appointments.map((appointment, i) => (\n                    <Appointments>\n                      <Appointment width={30} color={\"red\"}>\n                        {appointment.id}\n                      </Appointment>\n                      <Appointment>\n                        {appointment.master.profile\n                          ? appointment.master.profile.name\n                          : \"-\"}\n                      </Appointment>\n                      <Appointment>\n                        {appointment.master.profile\n                          ? appointment.master.profile.email\n                          : \"-\"}\n                      </Appointment>\n                      <Appointment>{appointment.status}</Appointment>\n                      <Appointment>{appointment.date}</Appointment>\n                      <Appointment>{appointment.time}</Appointment>\n                      <Offers>\n                        {appointment.offers.length &&\n                          appointment.offers.map((offer, i) => (\n                            <OfferWrap>\n                              <Offer>{offer.service.name}</Offer>\n                              <Offer>\n                                {offer.price_by_pack.price} руб.\n                                {offer.price_by_pack.duration} мин.\n                              </Offer>\n                            </OfferWrap>\n                          ))}\n                      </Offers>\n                    </Appointments>\n                  ))}\n                </AppointmentsWrap>\n              )}\n            </div>\n          </div>\n        ))}\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}