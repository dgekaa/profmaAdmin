(this.webpackJsonpadmin_profma=this.webpackJsonpadmin_profma||[]).push([[0],{173:function(e,n,t){"use strict";t.r(n);var c,i,r,s,o,l,a,d,b,j,h,p,f=t(0),m=t.n(f),x=t(11),O=t.n(x),u=t(29),g=t(12),y=(t(93),t(13)),v=function(e,n){return Promise.resolve(fetch("".concat("http://194.87.145.192/graphql"),{method:"POST",mode:"cors",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}))},N=t(65),_=t(24),w=t(178),k=t(5),S=y.a.div(c||(c=Object(g.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 20px;\n    color: #3d5170;\n    font-weight: 400;\n    cursor: pointer;\n    color: #3d5170;\n    &:hover {\n      background-color: #fbfbfb;\n      color: #007bff;\n    }\n  "]))),A=y.a.div(i||(i=Object(g.a)(["\n    display: flex;\n    font-size: 14px;\n    flex-direction: row;\n  "]))),C=y.a.div(r||(r=Object(g.a)(["\n    margin-right: 20px;\n    color: #000;\n    font-weight: 700;\n  "]))),z=y.a.div(s||(s=Object(g.a)(["\n    &:nth-child(odd) {\n      background-color: rgba(0, 0, 0, 0.03);\n    }\n    display: flex;\n    font-size: 14px;\n    flex-direction: row;\n  "]))),T=function(e){var n=e.length,t=e.DATA,c=Object(f.useState)(""),i=Object(u.a)(c,2),r=i[0],s=i[1],o=Object(f.useState)(!1),l=Object(u.a)(o,2),a=l[0],d=l[1],b=function(e){return Object(k.jsxs)(w.a,Object(N.a)(Object(N.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(k.jsx)(w.a.Header,{closeButton:!0,children:Object(k.jsx)(w.a.Title,{id:"contained-modal-title-vcenter",children:Object(k.jsxs)(A,{children:[Object(k.jsx)(C,{children:"Appointments"}),Object(k.jsxs)(C,{children:["UserId: ",r.id]}),Object(k.jsxs)(C,{children:["Name: ",r.profile?r.profile.name:"-"]}),Object(k.jsxs)(C,{children:["Email: ",r.profile?r.profile.email:"-"]})]})})}),Object(k.jsx)(w.a.Body,{children:Object(k.jsxs)("table",{className:"table mb-0",children:[Object(k.jsx)("thead",{className:"bg-light",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{scope:"col",className:"border-0",children:"Id"}),Object(k.jsx)("th",{scope:"col",className:"border-0",children:"Master/client"}),Object(k.jsx)("th",{scope:"col",className:"border-0",children:"Date"}),Object(k.jsx)("th",{scope:"col",className:"border-0",children:"Time"}),Object(k.jsx)("th",{scope:"col",className:"border-0",children:"Status"}),Object(k.jsx)("th",{scope:"col",className:"border-0",children:"Offers"})]})}),Object(k.jsx)("tbody",{children:!!a&&!!a.length&&a.map((function(e,n){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:e.id}),Object(k.jsx)("td",{children:e.client?e.client.profile?e.client.profile.name:"-":e.master.profile?e.master.profile.name:"-"}),Object(k.jsx)("td",{children:e.date}),Object(k.jsx)("td",{children:e.time.slice(0,5)}),Object(k.jsx)("td",{children:e.status}),Object(k.jsx)("td",{children:e.offers.length?e.offers.map((function(e,n){return Object(k.jsxs)(z,{children:[Object(k.jsx)("td",{scope:"col",className:"border-0",children:e.service.name}),Object(k.jsxs)("td",{scope:"col",className:"border-0",children:[e.price_by_pack.duration," \u043c\u0438\u043d."]}),Object(k.jsxs)("td",{scope:"col",className:"border-0",children:[e.price_by_pack.price," \u0440\u0443\u0431."]})]})})):"-"})]})}))})]})})]}))};return Object(k.jsxs)(_.e,{fluid:!0,className:"main-content-container px-4",children:[Object(k.jsx)(_.f,{children:Object(k.jsx)(_.d,{children:Object(k.jsxs)(_.a,{small:!0,className:"mb-4",style:{boxShadow:"0 0 10px 1px rgba(0,0,0,0.2)"},children:[Object(k.jsx)(_.c,{className:"border-bottom",children:Object(k.jsxs)("h6",{className:"m-0",children:[t&&t.length?"Master"===t[0].type?"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043c\u0430\u0441\u0442\u0435\u0440\u043e\u0432":"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432":"..."," ",n?"("+n+")":null]})}),Object(k.jsx)(_.b,{className:"p-0 pb-3",children:Object(k.jsxs)("table",{className:"table mb-0",children:[Object(k.jsx)("thead",{className:"bg-light",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{scope:"col",className:"border-0",children:"Id"}),Object(k.jsx)("th",{scope:"col",className:"border-0",children:"Name"}),Object(k.jsx)("th",{scope:"col",className:"border-0",children:"About me"}),Object(k.jsx)("th",{scope:"col",className:"border-0",children:"Email"}),Object(k.jsx)("th",{scope:"col",className:"border-0",children:"City"}),Object(k.jsx)("th",{scope:"col",className:"border-0",children:"Appointments"})]})}),t&&!!t.length&&Object(k.jsx)("tbody",{children:t.map((function(e,n){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:e.id}),Object(k.jsx)("td",{children:e.profile&&e.profile.name?e.profile.name:"-"}),Object(k.jsx)("td",{children:e.profile&&e.profile.about_me?e.profile.about_me:"-"}),Object(k.jsx)("td",{children:e.profile&&e.profile.email?e.profile.email:"-"}),Object(k.jsx)("td",{children:e.profile&&e.profile.city?e.profile.city.name:"-"}),Object(k.jsx)("td",{children:Object(k.jsx)(S,{onClick:function(){d(0!==e.client_appointments.length?e.client_appointments:e.master_appointments),s(e)},children:0!==e.client_appointments.length||0!==e.master_appointments.length?e.client_appointments.length||e.master_appointments.length:"-"})})]},n)}))})]})})]})})}),Object(k.jsx)(b,{show:a,onHide:function(){return d(!1)}})]})},P=y.a.div(o||(o=Object(g.a)(["\n    position: fixed;\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    top: 0;\n    right: 0;\n    left: 200px;\n    height: 49px;\n    padding-right: 20px;\n    color: #999;\n    background-color: #fff;\n    width: calc(100% - 200px);\n    box-shadow: 0 0.125rem 0.625rem rgb(90 97 105 / 12%);\n  "]))),F=y.a.div(l||(l=Object(g.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 0;\n    height: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 1000;\n  "]))),I=y.a.div(a||(a=Object(g.a)(["\n    background-color: #fff;\n    position: fixed;\n    width: 200px;\n    height: 100vh;\n    box-shadow: 0 0.125rem 9.375rem rgb(90 97 105 / 10%),\n      0 0.25rem 0.5rem rgb(90 97 105 / 12%),\n      0 0.9375rem 1.375rem rgb(90 97 105 / 10%),\n      0 0.4375rem 2.1875rem rgb(165 182 201 / 10%);\n  "]))),M=y.a.div(d||(d=Object(g.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: #5a6169;\n    font-weight: 500;\n    height: 50px;\n    border-bottom: 1px solid #e1e5eb;\n    font-size: 25px;\n  "]))),B=y.a.div(b||(b=Object(g.a)(["\n    width: 200px;\n    height: 100vh;\n  "]))),D=y.a.div(j||(j=Object(g.a)(["\n    display: flex;\n    flex-direction: row;\n    background-color: #f5f6f8;\n  "]))),E=y.a.div(h||(h=Object(g.a)(["\n    z-index: 0 !important;\n    display: flex;\n    flex: 1;\n    margin-top: 75px;\n  "]))),q=y.a.div(p||(p=Object(g.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 50px;\n    color: #3d5170;\n    font-weight: 400;\n    cursor: pointer;\n    background-color: ",";\n    color: ",";\n    box-shadow: ",";\n    &:hover {\n      transition: 0.2s ease all;\n      box-shadow: inset 0.1875rem 0 0 #007bff;\n      background-color: #fbfbfb;\n      color: #007bff;\n    }\n  "])),(function(e){return e.active?"#fbfbfb":"#fff"}),(function(e){return e.active?"#007bff":"#3d5170"}),(function(e){return e.active?"inset 0.1875rem 0 0 #007bff":null})),J=function(){var e="Master",n="Client",t=Object(f.useState)(""),c=Object(u.a)(t,2),i=c[0],r=c[1],s=Object(f.useState)([]),o=Object(u.a)(s,2),l=o[0],a=o[1],d=function(e){v({query:"query {users (type: ".concat(e,", first:",100,") { \n        data { \n          id type\n          profile {id city {id name} name email about_me}\n          master_appointments {\n            id date time status\n            offers {\n              description price_by_pack {duration price}\n              service {id name specialization {id name} photos {src}}\n            }\n            client {\n              profile {\n                name email\n              }\n            }\n          }\n          client_appointments {\n            id date time status\n            offers {\n              description price_by_pack {duration price}\n              service {id name specialization {id name} photos {src}}\n            }\n            master {\n              profile {\n                name email\n              }\n            }\n          }\n        } \n      }}")}).then((function(e){return e.json()})).then((function(e){a(e.data.users.data)})).catch((function(e){alert("error")}))};return Object(f.useEffect)((function(){r("clients"),d(n)}),[]),Object(k.jsx)("div",{className:"App",children:Object(k.jsxs)(D,{children:[Object(k.jsxs)(I,{children:[Object(k.jsx)(M,{children:"Profma"}),Object(k.jsx)(q,{active:"clients"===i,onClick:function(){r("clients"),d(n)},children:"\u041a\u043b\u0438\u0435\u043d\u0442\u044b"}),Object(k.jsx)(q,{active:"masters"===i,onClick:function(){r("masters"),d(e)},children:"\u041c\u0430\u0441\u0442\u0435\u0440\u0430"})]}),Object(k.jsx)(B,{}),Object(k.jsxs)(E,{children:[Object(k.jsx)(F,{children:Object(k.jsx)(P,{children:"\u0410\u0434\u043c\u0438\u043d\u043a\u0430 PROFMA"})}),Object(k.jsx)(T,{length:l.length,DATA:l})]})]})})},H=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,179)).then((function(n){var t=n.getCLS,c=n.getFID,i=n.getFCP,r=n.getLCP,s=n.getTTFB;t(e),c(e),i(e),r(e),s(e)}))};O.a.render(Object(k.jsx)(m.a.StrictMode,{children:Object(k.jsx)(J,{})}),document.getElementById("root")),H()},93:function(e,n,t){}},[[173,1,2]]]);
//# sourceMappingURL=main.b593ab61.chunk.js.map